<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Data Management | Econometric Time Series Modeling and Forecasting" />
<meta property="og:type" content="book" />





<meta name="author" content="David Ubilava" />


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="description" content="Data Management | Econometric Time Series Modeling and Forecasting">

<title>Data Management | Econometric Time Series Modeling and Forecasting</title>

<script src="libs/header-attrs-2.9.7/header-attrs.js"></script>
<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
/* show arrow before summary tag as in bootstrap
TODO: remove if boostrap in updated in html_document (rmarkdown#1485) */
details > summary {
  display: list-item;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#preamble">Preamble</a></li>
<li><a href="preliminaries.html#preliminaries">Preliminaries</a></li>
<li><a href="1-introduction-to-forecasting.html#introduction-to-forecasting"><span class="toc-section-number">1</span> Introduction to Forecasting</a></li>
<li><a href="2-stochastic-process-and-time-series.html#stochastic-process-and-time-series"><span class="toc-section-number">2</span> Stochastic Process and Time Series</a>
<ul>
<li><a href="2-1-stationarity.html#stationarity"><span class="toc-section-number">2.1</span> Stationarity</a></li>
<li><a href="2-2-serial-dependence.html#serial-dependence"><span class="toc-section-number">2.2</span> Serial Dependence</a></li>
<li><a href="2-3-transformations.html#transformations"><span class="toc-section-number">2.3</span> Transformations</a></li>
</ul></li>
<li><a href="3-forecasting-methods-and-routines.html#forecasting-methods-and-routines"><span class="toc-section-number">3</span> Forecasting Methods and Routines</a>
<ul>
<li><a href="3-1-optimal-forecast.html#optimal-forecast"><span class="toc-section-number">3.1</span> Optimal Forecast</a></li>
<li><a href="3-2-measuring-forecast-accuracy.html#measuring-forecast-accuracy"><span class="toc-section-number">3.2</span> Measuring Forecast Accuracy</a></li>
<li><a href="3-3-evaluating-time-series-forecasts.html#evaluating-time-series-forecasts"><span class="toc-section-number">3.3</span> Evaluating Time Series Forecasts</a>
<ul>
<li><a href="3-3-evaluating-time-series-forecasts.html#unbiasedness"><span class="toc-section-number">3.3.1</span> Unbiasedness</a></li>
<li><a href="3-3-evaluating-time-series-forecasts.html#efficiency"><span class="toc-section-number">3.3.2</span> Efficiency</a></li>
<li><a href="3-3-evaluating-time-series-forecasts.html#no-autocorrelation"><span class="toc-section-number">3.3.3</span> No Autocorrelation</a></li>
</ul></li>
</ul></li>
<li><a href="deterministic-time-series-models.html#deterministic-time-series-models">Deterministic Time Series Models</a></li>
<li><a href="4-trends.html#trends"><span class="toc-section-number">4</span> Trends</a>
<ul>
<li><a href="4-1-spurious-relationship.html#spurious-relationship"><span class="toc-section-number">4.1</span> Spurious Relationship</a></li>
<li><a href="4-2-modeling.html#modeling"><span class="toc-section-number">4.2</span> Modeling</a></li>
<li><a href="4-3-forecasting.html#forecasting"><span class="toc-section-number">4.3</span> Forecasting</a></li>
</ul></li>
<li><a href="deterministic-time-series-models-1.html#deterministic-time-series-models-1">Deterministic Time Series Models</a></li>
<li><a href="5-seasonality.html#seasonality"><span class="toc-section-number">5</span> Seasonality</a>
<ul>
<li><a href="5-1-modeling-1.html#modeling-1"><span class="toc-section-number">5.1</span> Modeling</a></li>
<li><a href="5-2-forecasting-1.html#forecasting-1"><span class="toc-section-number">5.2</span> Forecasting</a></li>
</ul></li>
<li><a href="dynamic-time-series-models.html#dynamic-time-series-models">Dynamic Time Series Models</a></li>
<li><a href="6-linear-autoregression.html#linear-autoregression"><span class="toc-section-number">6</span> Linear Autoregression</a>
<ul>
<li><a href="6-1-modeling-2.html#modeling-2"><span class="toc-section-number">6.1</span> Modeling</a>
<ul>
<li><a href="6-1-modeling-2.html#ar1"><span class="toc-section-number">6.1.1</span> AR(1)</a></li>
<li><a href="6-1-modeling-2.html#ar2"><span class="toc-section-number">6.1.2</span> AR(2)</a></li>
</ul></li>
<li><a href="6-2-forecasting-2.html#forecasting-2"><span class="toc-section-number">6.2</span> Forecasting</a>
<ul>
<li><a href="6-2-forecasting-2.html#one-step-ahead-forecast-from-ar1"><span class="toc-section-number">6.2.1</span> One-step-ahead forecast from AR(1)</a></li>
<li><a href="6-2-forecasting-2.html#two-step-ahead-forecast-from-ar1"><span class="toc-section-number">6.2.2</span> Two-step-ahead forecast from AR(1)</a></li>
<li><a href="6-2-forecasting-2.html#h-step-ahead-forecast-from-ar1"><span class="toc-section-number">6.2.3</span> h-step-ahead forecast from AR(1)</a></li>
<li><a href="6-2-forecasting-2.html#one-step-ahead-forecast-from-ar2"><span class="toc-section-number">6.2.4</span> One-step-ahead forecast from AR(2)</a></li>
<li><a href="6-2-forecasting-2.html#two-step-ahead-forecast-from-ar2"><span class="toc-section-number">6.2.5</span> Two-step-ahead forecast from AR(2)</a></li>
<li><a href="6-2-forecasting-2.html#one-step-ahead-forecast-from-ar2-1"><span class="toc-section-number">6.2.6</span> One-step-ahead forecast from AR(2)</a></li>
</ul></li>
</ul></li>
<li><a href="7-vector-autoregression.html#vector-autoregression"><span class="toc-section-number">7</span> Vector Autoregression</a>
<ul>
<li><a href="7-1-modeling-3.html#modeling-3"><span class="toc-section-number">7.1</span> Modeling</a>
<ul>
<li><a href="7-1-modeling-3.html#in-sample-granger-causality"><span class="toc-section-number">7.1.1</span> In-Sample Granger Causality</a></li>
</ul></li>
<li><a href="7-2-forecasting-3.html#forecasting-3"><span class="toc-section-number">7.2</span> Forecasting</a>
<ul>
<li><a href="7-2-forecasting-3.html#one-step-ahead-forecast-from-bivariate-var1"><span class="toc-section-number">7.2.1</span> One-step-ahead forecast from bivariate VAR(1)</a></li>
<li><a href="7-2-forecasting-3.html#two-step-ahead-forecast-from-bivariate-var1"><span class="toc-section-number">7.2.2</span> Two-step-ahead forecast from bivariate VAR(1)</a></li>
<li><a href="7-2-forecasting-3.html#out-of-sample-granger-causality"><span class="toc-section-number">7.2.3</span> Out-of-Sample Granger Causality</a></li>
</ul></li>
</ul></li>
<li><a href="8-threshold-autoregression.html#threshold-autoregression"><span class="toc-section-number">8</span> Threshold Autoregression</a>
<ul>
<li><a href="8-1-nonlinear-models.html#nonlinear-models"><span class="toc-section-number">8.1</span> Nonlinear Models</a></li>
<li><a href="8-2-modeling-4.html#modeling-4"><span class="toc-section-number">8.2</span> Modeling</a></li>
<li><a href="8-3-forecasting-4.html#forecasting-4"><span class="toc-section-number">8.3</span> Forecasting</a>
<ul>
<li><a href="8-3-forecasting-4.html#skeleton-extrapolation"><span class="toc-section-number">8.3.1</span> Skeleton Extrapolation</a></li>
<li><a href="8-3-forecasting-4.html#analytical-method"><span class="toc-section-number">8.3.2</span> Analytical Method</a></li>
<li><a href="8-3-forecasting-4.html#numerical-method-bootstrap-resampling"><span class="toc-section-number">8.3.3</span> Numerical Method: Bootstrap Resampling</a></li>
</ul></li>
</ul></li>
<li><a href="forecast-assessment.html#forecast-assessment">Forecast Assessment</a></li>
<li><a href="9-forecast-evaluation.html#forecast-evaluation"><span class="toc-section-number">9</span> Forecast Evaluation</a>
<ul>
<li><a href="9-1-the-need-for-the-forecast-evaluation.html#the-need-for-the-forecast-evaluation"><span class="toc-section-number">9.1</span> The Need for the Forecast Evaluation</a></li>
<li><a href="9-2-relative-forecast-accuracy-tests.html#relative-forecast-accuracy-tests"><span class="toc-section-number">9.2</span> Relative Forecast Accuracy Tests</a>
<ul>
<li><a href="9-2-relative-forecast-accuracy-tests.html#the-morgan-granger-newbold-test"><span class="toc-section-number">9.2.1</span> The Morgan-Granger-Newbold Test</a></li>
<li><a href="9-2-relative-forecast-accuracy-tests.html#the-diebold-mariano-test"><span class="toc-section-number">9.2.2</span> The Diebold-Mariano Test</a></li>
</ul></li>
</ul></li>
<li><a href="10-forecast-combination.html#forecast-combination"><span class="toc-section-number">10</span> Forecast Combination</a></li>
<li><a href="introduction-to-r.html#introduction-to-r">Introduction to R</a>
<ul>
<li><a href="data-management.html#data-management">Data Management</a></li>
<li><a href="data-visualisation.html#data-visualisation">Data Visualisation</a></li>
<li><a href="regression-analysis.html#regression-analysis">Regression Analysis</a></li>
</ul></li>
<li><a href="tutorial-1.html#tutorial-1">Tutorial 1</a></li>
<li><a href="tutorial-2.html#tutorial-2">Tutorial 2</a></li>
<li><a href="tutorial-3.html#tutorial-3">Tutorial 3</a></li>
<li><a href="tutorial-4.html#tutorial-4">Tutorial 4</a></li>
<li><a href="tutorial-5.html#tutorial-5">Tutorial 5</a></li>
<li><a href="tutorial-6.html#tutorial-6">Tutorial 6</a></li>
<li><a href="tutorial-7.html#tutorial-7">Tutorial 7</a></li>
<li><a href="tutorial-8.html#tutorial-8">Tutorial 8</a></li>
<li><a href="tutorial-9.html#tutorial-9">Tutorial 9</a></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="data-management" class="section level2 unnumbered">
<h2>Data Management</h2>
<p>There are a number of ways in which we can work with data in R. Let’s begin with matrices.</p>
<p>Consider a string of observations:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="data-management.html#cb1-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">6</span>)</span>
<span id="cb1-2"><a href="data-management.html#cb1-2" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre><code>## [1] 1 0 4 3 2 6</code></pre>
<p>A <em>string</em>, unlike a <em>vector</em>, has no dimensions. But we can transform it to a <span class="math inline">\(n \times 1\)</span> vector using the as.matrix() function:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data-management.html#cb3-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(a)</span>
<span id="cb3-2"><a href="data-management.html#cb3-2" aria-hidden="true" tabindex="-1"></a>b</span></code></pre></div>
<pre><code>##      [,1]
## [1,]    1
## [2,]    0
## [3,]    4
## [4,]    3
## [5,]    2
## [6,]    6</code></pre>
<p>The result is a <span class="math inline">\(6 \times 1\)</span> vector, or a column matrix. To obtain a <span class="math inline">\(1 \times 6\)</span> vector, or a row matrix, we <em>transpose</em> the foregoing vector using the t() function:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="data-management.html#cb5-1" aria-hidden="true" tabindex="-1"></a>bt <span class="ot">&lt;-</span> <span class="fu">t</span>(b)</span>
<span id="cb5-2"><a href="data-management.html#cb5-2" aria-hidden="true" tabindex="-1"></a>bt</span></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6]
## [1,]    1    0    4    3    2    6</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="data-management.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(bt)</span></code></pre></div>
<pre><code>## [1] 1 6</code></pre>
<p>We can create any <span class="math inline">\(n \times k\)</span> matrix, using the matrix() function. For example, consider a <span class="math inline">\(3 \times 2\)</span> matrix:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="data-management.html#cb9-1" aria-hidden="true" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="fu">matrix</span>(a,<span class="at">nrow=</span><span class="dv">3</span>,<span class="at">ncol=</span><span class="dv">2</span>)</span>
<span id="cb9-2"><a href="data-management.html#cb9-2" aria-hidden="true" tabindex="-1"></a>B</span></code></pre></div>
<pre><code>##      [,1] [,2]
## [1,]    1    3
## [2,]    0    2
## [3,]    4    6</code></pre>
<p>We can add column names and row names to this matrix:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="data-management.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(B) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;c1&quot;</span>,<span class="st">&quot;c2&quot;</span>)</span>
<span id="cb11-2"><a href="data-management.html#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(B) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;r1&quot;</span>,<span class="st">&quot;r2&quot;</span>,<span class="st">&quot;r3&quot;</span>)</span>
<span id="cb11-3"><a href="data-management.html#cb11-3" aria-hidden="true" tabindex="-1"></a>B</span></code></pre></div>
<pre><code>##    c1 c2
## r1  1  3
## r2  0  2
## r3  4  6</code></pre>
<p>If, at this point, we would like to only work with, say, the first column of the matrix, we can call it using its column number, (1), or the column name, (“c1”), as follows:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="data-management.html#cb13-1" aria-hidden="true" tabindex="-1"></a>B[,<span class="st">&quot;c1&quot;</span>]</span></code></pre></div>
<pre><code>## r1 r2 r3 
##  1  0  4</code></pre>
<p>Similarly, if we want to refer to a matrix element, say <span class="math inline">\(b_{3,2}\)</span>, we can do this as follows:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="data-management.html#cb15-1" aria-hidden="true" tabindex="-1"></a>B[<span class="dv">3</span>,<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>Matrix multiplication is done using %*% command, granted that the two matrices are compatible. For example, we obtain a product of matrix <span class="math inline">\(B\)</span> and a new <span class="math inline">\(2 \times 1\)</span> vector, <span class="math inline">\(d\)</span>, as follows:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="data-management.html#cb17-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">c</span>(<span class="dv">5</span>,<span class="sc">-</span><span class="dv">2</span>))</span>
<span id="cb17-2"><a href="data-management.html#cb17-2" aria-hidden="true" tabindex="-1"></a>Bd <span class="ot">&lt;-</span> B<span class="sc">%*%</span>d</span>
<span id="cb17-3"><a href="data-management.html#cb17-3" aria-hidden="true" tabindex="-1"></a>Bd</span></code></pre></div>
<pre><code>##    [,1]
## r1   -1
## r2   -4
## r3    8</code></pre>
<p>We can add columns (and rows) to the existing matrix using a cbind() function:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="data-management.html#cb19-1" aria-hidden="true" tabindex="-1"></a>c3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">0</span>)</span>
<span id="cb19-2"><a href="data-management.html#cb19-2" aria-hidden="true" tabindex="-1"></a>D <span class="ot">&lt;-</span> <span class="fu">cbind</span>(B,c3)</span>
<span id="cb19-3"><a href="data-management.html#cb19-3" aria-hidden="true" tabindex="-1"></a>D</span></code></pre></div>
<pre><code>##    c1 c2 c3
## r1  1  3  0
## r2  0  2  1
## r3  4  6  0</code></pre>
<p>We can invert a(n invertible) matrix using the solve() function:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="data-management.html#cb21-1" aria-hidden="true" tabindex="-1"></a>Di <span class="ot">&lt;-</span> <span class="fu">solve</span>(D)</span>
<span id="cb21-2"><a href="data-management.html#cb21-2" aria-hidden="true" tabindex="-1"></a>Di</span></code></pre></div>
<pre><code>##            r1 r2         r3
## c1 -1.0000000  0  0.5000000
## c2  0.6666667  0 -0.1666667
## c3 -1.3333333  1  0.3333333</code></pre>
</div>
<p style="text-align: center;">
<a href="introduction-to-r.html"><button class="btn btn-default">Previous</button></a>
<a href="data-visualisation.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
