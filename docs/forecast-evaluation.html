<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Chapter 9 Forecast Evaluation | Introduction to Time Series Modeling and Forecasting with Applications in R" />
<meta property="og:type" content="book" />
<meta property="og:image" content="/forecasting-logo.png" />
<meta property="og:description" content="Chapter 9 Forecast Evaluation | Introduction to Time Series Modeling and Forecasting with Applications in R" />


<meta name="author" content="David Ubilava" />


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<meta name="description" content="Chapter 9 Forecast Evaluation | Introduction to Time Series Modeling and Forecasting with Applications in R">

<title>Chapter 9 Forecast Evaluation | Introduction to Time Series Modeling and Forecasting with Applications in R</title>

<link href="libs/tufte-css-2015.12.29/tufte.css" rel="stylesheet" />
<link href="libs/tufte-css-2015.12.29/envisioned.css" rel="stylesheet" />
<link href="libs/msmb-css-0/msmb.css" rel="stylesheet" />
<script>
function toggle_visibility(id1, id2) {
var e = document.getElementById(id1);
var f = document.getElementById(id2);

e.style.display = ((e.style.display!='none') ? 'none' : 'block');

if(f.classList.contains('fa-plus-square')) {
    f.classList.add('fa-minus-square')
    f.classList.remove('fa-plus-square')
} else {
    f.classList.add('fa-plus-square')
    f.classList.remove('fa-minus-square')
}

}
</script>
<script>
function copy_link(id) {
  var dummy = document.createElement('input'),
  text = window.location.href.split(/[?#]/)[0] + '#' + id;
  document.body.appendChild(dummy);
  dummy.value = text;
  dummy.select();
  document.execCommand('copy');
  document.body.removeChild(dummy);
  
  var tooltip = document.getElementById(id + '-tooltip');
  tooltip.innerHTML = 'Copied!';
}

function reset_tooltip(id) {
  var tooltip = document.getElementById(id);
  tooltip.innerHTML = 'Copy link';
}
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }

code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>



<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>



<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul class="navbar">
<li class="msmb"><p class="title">Introduction to Time Series Modeling and Forecasting with Applications in R<p><p class="author">David Ubilava</p>
<li class="dropdown" style="float:right">
<a href="javascript:void(0)" class="dropbtn">&#x25BE; Chapters</a>
<div class="dropdown-content">
<a href="index.html">Foreword</a>
<a href="introduction-to-forecasting.html"><span class="toc-section-number">1</span> Introduction to Forecasting</a>
<a href="stochastic-process-and-time-series.html"><span class="toc-section-number">2</span> Stochastic Process and Time Series</a>
<a href="forecasting-methods-and-routines.html"><span class="toc-section-number">3</span> Forecasting Methods and Routines</a>
<a href="trends-and-seasonality.html"><span class="toc-section-number">4</span> Trends and Seasonality</a>
<a href="autoregressive-models.html"><span class="toc-section-number">5</span> Autoregressive Models</a>
<a href="vector-autoregressive-models.html"><span class="toc-section-number">6</span> Vector Autoregressive Models</a>
<a href="dynamic-factor-models.html"><span class="toc-section-number">7</span> Dynamic Factor Models</a>
<a href="threshold-autoregressive-models.html"><span class="toc-section-number">8</span> Threshold Autoregressive Models</a>
<a id="active-page" href="forecast-evaluation.html"><span class="toc-section-number">9</span> Forecast Evaluation</a><ul class="toc-sections">
<li class="toc"><a href="#the-need-for-the-forecast-evaluation"> The Need for the Forecast Evaluation</a></li>
<li class="toc"><a href="#relative-forecast-accuracy-tests"> Relative Forecast Accuracy Tests</a></li>
</ul>
<a href="forecast-combination.html"><span class="toc-section-number">10</span> Forecast Combination</a>
<a href="tutorial-1-introduction-to-r.html">Tutorial 1: Introduction to R</a>
<a href="tutorial-2-data-management.html">Tutorial 2: Data Management</a>
<a href="tutorial-3-forecasting-methods-and-routines.html">Tutorial 3: Forecasting Methods and Routines</a>
<a href="tutorial-4-trends-and-seasonality.html">Tutorial 4: Trends and Seasonality</a>
<a href="tutorial-5-autoregressive-models.html">Tutorial 5: Autoregressive Models</a>
<a href="tutorial-6-vector-autoregressive-models.html">Tutorial 6: Vector Autoregressive Models</a>
<a href="tutorial-7-dynamic-factor-models.html">Tutorial 7: Dynamic Factor Models</a>
<a href="tutorial-8-threshold-autoregression.html">Tutorial 8: Threshold Autoregression</a>
<a href="tutorial-9-forecast-evaluation.html">Tutorial 9: Forecast Evaluation</a>
<a href="tutorial-10-forecast-combination.html">Tutorial 10: Forecast Combination</a>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="forecast-evaluation" class="section level1" number="9">
<h1>
<span class="header-section-number">Chapter 9</span> Forecast Evaluation</h1>
<div id="the-need-for-the-forecast-evaluation" class="section level2" number="9.1">
<h2>
<span class="header-section-number">9.1</span> The Need for the Forecast Evaluation<div class="tooltip"><button class="internal-link-btn" onclick="copy_link('the-need-for-the-forecast-evaluation')" onmouseout="reset_tooltip('the-need-for-the-forecast-evaluation-tooltip')"><span class="tooltiptext" id="the-need-for-the-forecast-evaluation-tooltip">Copy link</span><i class="fa fa-link"></i></button></div>
</h2>
<p>We typically have several candidate econometric models or methods to forecast an economic variable of interest. Among these, we tend to select the most adequate using in-sample goodness of fit measures (e.g., AIC or SIC).</p>
<p>A more sensible approach, at least from the standpoint of a forecaster, would be to assess goodness of fit in an out-of-sample setting. Recall that models that offer the superior in-sample fit don’t necessarily produce the most accurate out-of-sample forecasts. That is, while a better in-sample fit can be achieved by incorporating additional parameters in the model, such more complex models extrapolate the estimated parameter uncertainty into the forecasts, thus sabotaging their accuracy.</p>
<p>Thus far we have applied the following algorithm to identify ‘the best’ among the competing forecasts:</p>
<ul>
<li>Decide on a loss function (e.g., quadratic loss).</li>
<li>Obtain forecasts, the forecast errors, and the corresponding sample expected loss (e.g., root mean squared forecast error) for each model in consideration.</li>
<li>Rank the models according to their sample expected loss values.</li>
<li>Select the model with the lowest sample expected loss.</li>
</ul>
<p>But the loss function is a function of a random variable, and in practice we deal with sample information, so sampling variation needs to be taken into the account. Statistical methods of evaluation are, therefore, desirable (at the very least).</p>
</div>
<div id="relative-forecast-accuracy-tests" class="section level2" number="9.2">
<h2>
<span class="header-section-number">9.2</span> Relative Forecast Accuracy Tests<div class="tooltip"><button class="internal-link-btn" onclick="copy_link('relative-forecast-accuracy-tests')" onmouseout="reset_tooltip('relative-forecast-accuracy-tests-tooltip')"><span class="tooltiptext" id="relative-forecast-accuracy-tests-tooltip">Copy link</span><i class="fa fa-link"></i></button></div>
</h2>
<p>Here we will cover two tests for the hypothesis that two forecasts are equivalent, in the sense that the associated loss differential is not statistically significantly different from zero.</p>
<p>Consider a time series of length <span class="math inline">\(T\)</span>. Suppose <span class="math inline">\(h\)</span>-step-ahead forecasts for periods <span class="math inline">\(R+h\)</span> through <span class="math inline">\(T\)</span> have been generated from two competing models <span class="math inline">\(i\)</span> and <span class="math inline">\(j\)</span>: <span class="math inline">\(y_{t+h|t,i}\)</span> and <span class="math inline">\(y_{t+h|t,j}\)</span>, with corresponding forecast errors: <span class="math inline">\(e_{t+h,i}\)</span> and <span class="math inline">\(e_{t+h,j}\)</span>. The null hypothesis of equal predictive ability can be given in terms of the unconditional expectation of the loss differential: <span class="math display">\[H_0: E\left[d(e_{t+h,ij})\right] = 0,\]</span> where <span class="math inline">\(d(e_{t+h,ij}) = L(e_{t+h,i})-L(e_{t+h,j})\)</span>.</p>
<div id="the-morgan-granger-newbold-test" class="section level3" number="9.2.1">
<h3>
<span class="header-section-number">9.2.1</span> The Morgan-Granger-Newbold Test<div class="tooltip"><button class="internal-link-btn" onclick="copy_link('the-morgan-granger-newbold-test')" onmouseout="reset_tooltip('the-morgan-granger-newbold-test-tooltip')"><span class="tooltiptext" id="the-morgan-granger-newbold-test-tooltip">Copy link</span><i class="fa fa-link"></i></button></div>
</h3>
<p>The Morgan-Granger-Newbold (MGN) test is based on auxiliary variables: <span class="math inline">\(u_{1,t+h} = e_{t+h,i}-e_{t+h,j}\)</span> and <span class="math inline">\(u_{2,t+h} = e_{t+h,i}+e_{t+h,j}\)</span>. It follows that: <span class="math display">\[E(u_{1,t+h},u_{2,t+h}) = MSFE(i,t+h)-MSFE(j,t+h).\]</span> Thus, the hypothesis of interest is equivalent to testing whether the two auxiliary variables are correlated.</p>
<p>The MGN test statistic is: <span class="math display">\[\frac{r}{\sqrt{(P-1)^{-1}(1-r^2)}}\sim t_{P-1},\]</span> where <span class="math inline">\(t_{P-1}\)</span> is a Student t distribution with <span class="math inline">\(P-1\)</span> degrees of freedom, <span class="math inline">\(P\)</span> is the number of out-of-sample forecasts, and <span class="math display">\[r=\frac{\sum_{t=R}^{T-h}{u_{1,t+h}u_{2,t+h}}}{\sqrt{\sum_{t=R}^{T-h}{u_{1,t+h}^2}\sum_{t=R}^{T-h}{u_{2,t+h}^2}}}\]</span></p>
<p>The MGN test relies on the assumption that forecast errors (of the forecasts to be compared) are unbiased, normally distributed, and uncorrelated (with each other). These are rather strict assumptions that are, often, violated in empirical applications.</p>
</div>
<div id="the-diebold-mariano-test" class="section level3" number="9.2.2">
<h3>
<span class="header-section-number">9.2.2</span> The Diebold-Mariano Test<div class="tooltip"><button class="internal-link-btn" onclick="copy_link('the-diebold-mariano-test')" onmouseout="reset_tooltip('the-diebold-mariano-test-tooltip')"><span class="tooltiptext" id="the-diebold-mariano-test-tooltip">Copy link</span><i class="fa fa-link"></i></button></div>
</h3>
<p>The Diebold-Mariano (DM) test relaxes the aforementioned requirements on the forecast errors. The DM test statistic is: <span class="math display">\[\frac{\bar{d}_h}{\sqrt{\sigma_d^2/P}} \sim N(0,1),\]</span> where <span class="math inline">\(\bar{d}_h=P^{-1}\sum_{t=R}^{T-h} d(e_{t+h,ij})\)</span>, and where <span class="math inline">\(P=T-R-h+1\)</span> is the total number of forecasts generated using a rolling or recursive widnow scheme, for example.</p>
<p>A modified version of the DM statistic, due to Harvey, Leybourne, and Newbold (1998), addresses the finite sample properties of the test, so that: <span class="math display">\[\sqrt{\frac{P+1-2h+P^{-1}h(h-1)}{P}}DM\sim t_{P-1},\]</span> where <span class="math inline">\(t_{P-1}\)</span> is a Student t distribution with <span class="math inline">\(P-1\)</span> degrees of freedom.</p>
<p>In practice, the test of equal predictive ability can be applied within the framework of a regression model as follows: <span class="math display">\[d_{t+h} = \delta + \upsilon_{t+h}\;~~t = R,\ldots,T-h,\]</span> where <span class="math inline">\(d_{t+h} \equiv d(e_{t+h,ij})\)</span>. The null of equal predictive ability is equivalent of testing <span class="math inline">\(H_0: \delta = 0\)</span> in the OLS setting. Moreover, because <span class="math inline">\(d_{t+h}\)</span> may be serially correlated, autocorrelation consistent standard errors should be used for inference.</p>

</div>
</div>
</div>
<p style="text-align: center;">
<a href="threshold-autoregressive-models.html"><button class="btn btn-default">Previous</button></a>
<a href="forecast-combination.html"><button class="btn btn-default">Next</button></a>
</p>
<p class="build-date">Page built: 
2022-04-29
 using 
R version 4.1.0 (2021-05-18)
</p>
</div>
</div>



</body>
</html>
